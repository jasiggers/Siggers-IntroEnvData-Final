<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Chapter 3: Snow Data Assignment for Web Scraping, Functions, &amp; Iteration | # Chapter 6: Weather &amp; Crop Regressions</title>
  <meta name="description" content="This is a culmination of assignments completed throughout the semester" />
  <meta name="generator" content="bookdown 0.25 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Chapter 3: Snow Data Assignment for Web Scraping, Functions, &amp; Iteration | # Chapter 6: Weather &amp; Crop Regressions" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is a culmination of assignments completed throughout the semester" />
  <meta name="github-repo" content="jasiggers/Siggers-IntroEnvData-Final" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Chapter 3: Snow Data Assignment for Web Scraping, Functions, &amp; Iteration | # Chapter 6: Weather &amp; Crop Regressions" />
  
  <meta name="twitter:description" content="This is a culmination of assignments completed throughout the semester" />
  

<meta name="author" content="Alex Siggers" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="chapter-2-hayman-fire-recovery.html"/>
<link rel="next" href="chapter-4-lagos-spatial-analysis-part-one.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/dygraphs-1.1.1/dygraph.css" rel="stylesheet" />
<script src="libs/dygraphs-1.1.1/dygraph-combined.js"></script>
<script src="libs/dygraphs-1.1.1/shapes.js"></script>
<script src="libs/moment-2.8.4/moment.js"></script>
<script src="libs/moment-timezone-0.2.5/moment-timezone-with-data.js"></script>
<script src="libs/moment-fquarter-1.0.0/moment-fquarter.min.js"></script>
<script src="libs/dygraphs-binding-1.1.1.6/dygraphs.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.1.0/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.1.0/leaflet-providers-plugin.js"></script>
<link href="libs/HomeButton-0.0.1/home-button.css" rel="stylesheet" />
<script src="libs/HomeButton-0.0.1/home-button.js"></script>
<script src="libs/HomeButton-0.0.1/easy-button-src.min.js"></script>
<script src="libs/clipboard-0.0.1/setClipboardText.js"></script>
<link href="libs/mapviewCSS-0.0.1/mapview-popup.css" rel="stylesheet" />
<link href="libs/mapviewCSS-0.0.1/mapview.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">IntroEnvironmentalDataScienceFinal</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="chapter-1-introduction-to-rmarkdown-through-the-poudre.html"><a href="chapter-1-introduction-to-rmarkdown-through-the-poudre.html"><i class="fa fa-check"></i><b>1</b> Chapter 1: Introduction to RMarkdown through the Poudre<span></span></a>
<ul>
<li class="chapter" data-level="1.1" data-path="chapter-1-introduction-to-rmarkdown-through-the-poudre.html"><a href="chapter-1-introduction-to-rmarkdown-through-the-poudre.html#methods"><i class="fa fa-check"></i><b>1.1</b> Methods<span></span></a></li>
<li class="chapter" data-level="1.2" data-path="chapter-1-introduction-to-rmarkdown-through-the-poudre.html"><a href="chapter-1-introduction-to-rmarkdown-through-the-poudre.html#sitedescription"><i class="fa fa-check"></i><b>1.2</b> SiteDescription<span></span></a></li>
<li class="chapter" data-level="1.3" data-path="chapter-1-introduction-to-rmarkdown-through-the-poudre.html"><a href="chapter-1-introduction-to-rmarkdown-through-the-poudre.html#data-acquisition-and-plotting-tests"><i class="fa fa-check"></i><b>1.3</b> Data Acquisition and Plotting tests<span></span></a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="chapter-1-introduction-to-rmarkdown-through-the-poudre.html"><a href="chapter-1-introduction-to-rmarkdown-through-the-poudre.html#data-download"><i class="fa fa-check"></i><b>1.3.1</b> Data Download<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="chapter-1-introduction-to-rmarkdown-through-the-poudre.html"><a href="chapter-1-introduction-to-rmarkdown-through-the-poudre.html#static-data-plotter"><i class="fa fa-check"></i><b>1.4</b> Static Data Plotter<span></span></a></li>
<li class="chapter" data-level="1.5" data-path="chapter-1-introduction-to-rmarkdown-through-the-poudre.html"><a href="chapter-1-introduction-to-rmarkdown-through-the-poudre.html#interactive-data-plotter"><i class="fa fa-check"></i><b>1.5</b> Interactive Data Plotter<span></span></a></li>
<li class="chapter" data-level="1.6" data-path="chapter-1-introduction-to-rmarkdown-through-the-poudre.html"><a href="chapter-1-introduction-to-rmarkdown-through-the-poudre.html#assignment."><i class="fa fa-check"></i><b>1.6</b> Assignment.<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="chapter-2-hayman-fire-recovery.html"><a href="chapter-2-hayman-fire-recovery.html"><i class="fa fa-check"></i><b>2</b> Chapter 2: Hayman Fire Recovery<span></span></a></li>
<li class="chapter" data-level="3" data-path="chapter-3-snow-data-assignment-for-web-scraping-functions-iteration.html"><a href="chapter-3-snow-data-assignment-for-web-scraping-functions-iteration.html"><i class="fa fa-check"></i><b>3</b> Chapter 3: Snow Data Assignment for Web Scraping, Functions, &amp; Iteration<span></span></a></li>
<li class="chapter" data-level="4" data-path="chapter-4-lagos-spatial-analysis-part-one.html"><a href="chapter-4-lagos-spatial-analysis-part-one.html"><i class="fa fa-check"></i><b>4</b> Chapter 4: LAGOS Spatial Analysis Part One<span></span></a>
<ul>
<li class="chapter" data-level="4.1" data-path="chapter-4-lagos-spatial-analysis-part-one.html"><a href="chapter-4-lagos-spatial-analysis-part-one.html#in-class-work"><i class="fa fa-check"></i><b>4.1</b> In-Class work<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="chapter-5-lagos-water-quality-analysis-part-2.html"><a href="chapter-5-lagos-water-quality-analysis-part-2.html"><i class="fa fa-check"></i><b>5</b> Chapter 5: LAGOS Water Quality Analysis Part 2<span></span></a>
<ul>
<li class="chapter" data-level="5.1" data-path="chapter-5-lagos-water-quality-analysis-part-2.html"><a href="chapter-5-lagos-water-quality-analysis-part-2.html#class-work"><i class="fa fa-check"></i><b>5.1</b> Class work<span></span></a></li>
<li class="chapter" data-level="5.2" data-path="chapter-5-lagos-water-quality-analysis-part-2.html"><a href="chapter-5-lagos-water-quality-analysis-part-2.html#why-might-this-be-the-case"><i class="fa fa-check"></i><b>5.2</b> Why might this be the case?<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="chapter-6-weather-crop-regressions.html"><a href="chapter-6-weather-crop-regressions.html"><i class="fa fa-check"></i><b>6</b> Chapter 6: Weather &amp; Crop Regressions<span></span></a>
<ul>
<li class="chapter" data-level="6.1" data-path="chapter-6-weather-crop-regressions.html"><a href="chapter-6-weather-crop-regressions.html#assignment"><i class="fa fa-check"></i><b>6.1</b> Assignment<span></span></a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"># Chapter 6: Weather &amp; Crop Regressions</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="chapter-3-snow-data-assignment-for-web-scraping-functions-iteration" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapter 3</span> Chapter 3: Snow Data Assignment for Web Scraping, Functions, &amp; Iteration<a href="chapter-3-snow-data-assignment-for-web-scraping-functions-iteration.html#chapter-3-snow-data-assignment-for-web-scraping-functions-iteration" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<ol style="list-style-type: decimal">
<li><p>Extract the meteorological data URLs. Here we want you to use the <code>rvest</code> package to get the URLs for the <code>SASP forcing</code> and <code>SBSP_forcing</code> meteorological datasets.</p></li>
<li><p>Download the meteorological data. Use the <code>download_file</code> and <code>str_split_fixed</code> commands to download the data and save it in your data folder. You can use a for loop or a map function.</p></li>
<li><p>Write a custom function to read in the data and append a site column to the data.</p></li>
<li><p>Use the <code>map</code> function to read in both meteorological files. Display a summary of your tibble.</p></li>
</ol>
<pre><code>##       year          month             day             hour      
##  Min.   :2003   Min.   : 1.000   Min.   : 1.00   Min.   : 0.00  
##  1st Qu.:2005   1st Qu.: 3.000   1st Qu.: 8.00   1st Qu.: 5.75  
##  Median :2007   Median : 6.000   Median :16.00   Median :11.50  
##  Mean   :2007   Mean   : 6.472   Mean   :15.76   Mean   :11.50  
##  3rd Qu.:2009   3rd Qu.: 9.000   3rd Qu.:23.00   3rd Qu.:17.25  
##  Max.   :2011   Max.   :12.000   Max.   :31.00   Max.   :23.00  
##  precip..kg.m.2.s.1.  air.temp..K.       site          
##  Min.   :0.000e+00   Min.   :242.1   Length:138336     
##  1st Qu.:0.000e+00   1st Qu.:265.8   Class :character  
##  Median :0.000e+00   Median :272.6   Mode  :character  
##  Mean   :3.838e-05   Mean   :272.6                     
##  3rd Qu.:0.000e+00   3rd Qu.:279.7                     
##  Max.   :6.111e-03   Max.   :295.8</code></pre>
<ol start="5" style="list-style-type: decimal">
<li>Make a line plot of mean temp by year by site (using the <code>air temp [K]</code> variable). Is there anything suspicious in the plot? Adjust your filtering if needed.</li>
</ol>
<p><img src="IntroEnvDataScienceFinal_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<p>##The temperature increases dramatically from the starting year (2003) and begins to level off &amp; fluctuate closer to 2005. This is most likely due to the 2003 data being partial and only including winter temperatures. By filtering out 2003 and 2004, we can expect a more concise y-axis and remove outliers.</p>
<p><img src="IntroEnvDataScienceFinal_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<p>##The updated graph gives a far less skewed insight into the temperature range of a seven-year span. Temperatures fluctuate between a ~3 K threshold. No more visible anomalies.</p>
<ol start="6" style="list-style-type: decimal">
<li>Write a function that makes line plots of monthly average temperature at each site for a given year. Use a for loop to make these plots for 2005 to 2010. Are monthly average temperatures at the Senator Beck Study Plot ever warmer than the Snow Angel Study Plot?</li>
</ol>
<p><img src="IntroEnvDataScienceFinal_files/figure-html/unnamed-chunk-17-1.png" width="672" /><img src="IntroEnvDataScienceFinal_files/figure-html/unnamed-chunk-17-2.png" width="672" /><img src="IntroEnvDataScienceFinal_files/figure-html/unnamed-chunk-17-3.png" width="672" /><img src="IntroEnvDataScienceFinal_files/figure-html/unnamed-chunk-17-4.png" width="672" /><img src="IntroEnvDataScienceFinal_files/figure-html/unnamed-chunk-17-5.png" width="672" /><img src="IntroEnvDataScienceFinal_files/figure-html/unnamed-chunk-17-6.png" width="672" /></p>
<p>##The graphs display a consistently higher temperature in the Snow Angel Study Plot, although the Senator Beck Study Plot remains fairly close and mimics the curvature. The Senator Beck Study Plot is colder every year and month on average.</p>
<p>Bonus) Make a plot of average daily precipitation by day of year (averaged across all available years). Color each site.</p>
<p><img src="IntroEnvDataScienceFinal_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<p>##The average daily precipitation appears to be identical at both sites, but I could have made an error in summarizing and averaging the precipitation values. Either way, there does not appear to be any notable difference between the daily values at the two sites.</p>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="chapter-2-hayman-fire-recovery.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="chapter-4-lagos-spatial-analysis-part-one.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/jasiggers/siggers-introenvdata-final/edit/master/3-snow-data.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/jasiggers/siggers-introenvdata-final/edit/master/3-snow-data.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
